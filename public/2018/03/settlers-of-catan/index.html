

  
    
  


  





<!DOCTYPE html>
<html lang="en-gb">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.31.1 with theme Tranquilpeak 0.4.3-BETA">
    <title>Settlers of Catan</title>
    <meta name="author" content="Emma Vestesson">
    <meta name="keywords" content="">

    <link rel="icon" href="/favicon.png">
    

    
    <meta name="description" content="Settlers of catan In our living room there is an old chest hiding some real treasures. Every now and again we will get Settlers of Catan out. I never grow tired of playing it as the board changes every time. The game has 19 hexagon shaped tiles that are placed at random. Eighteen tiles are linked to different resources -wheat, rock, wood, sheep and clay- and the 19th is the desert where the much feared robber lives.">
    <meta property="og:description" content="Settlers of catan In our living room there is an old chest hiding some real treasures. Every now and again we will get Settlers of Catan out. I never grow tired of playing it as the board changes every time. The game has 19 hexagon shaped tiles that are placed at random. Eighteen tiles are linked to different resources -wheat, rock, wood, sheep and clay- and the 19th is the desert where the much feared robber lives.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Settlers of Catan">
    <meta property="og:url" content="/2018/03/settlers-of-catan/">
    <meta property="og:site_name" content="Playing with data">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Playing with data">
    <meta name="twitter:description" content="Settlers of catan In our living room there is an old chest hiding some real treasures. Every now and again we will get Settlers of Catan out. I never grow tired of playing it as the board changes every time. The game has 19 hexagon shaped tiles that are placed at random. Eighteen tiles are linked to different resources -wheat, rock, wood, sheep and clay- and the 19th is the desert where the much feared robber lives.">
    
      <meta name="twitter:creator" content="@gummifot">
    
    

    
    

    

    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    

    
      
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-112742782-1', 'auto');
ga('send', 'pageview');
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="/">Playing with data</a>
  </div>
  
    
      <a class="header-right-picture "
         href="/#about">
    
    
    
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/emmavestesson">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/emmavestesson/">
    
      <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
      
      <span class="sidebar-button-desc">LinkedIn</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Settlers of Catan
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-03-17T00:00:00Z">
        
  
  
  
  
    17  2018
  

      </time>
    
    
  
  
    <span></span>
    
      <a class="category-link" href="/categories/r">R</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <div id="settlers-of-catan" class="section level2">
<h2>Settlers of catan</h2>
<p>In our living room there is an old chest hiding some real treasures. Every now and again we will get Settlers of Catan out. I never grow tired of playing it as the board changes every time. The game has 19 hexagon shaped tiles that are placed at random. Eighteen tiles are linked to different resources -wheat, rock, wood, sheep and clay- and the 19th is the desert where the much feared robber lives. Each tile is assigned a number bewteen 1 and 12 at random and when that number is rolled you get to pick up a card linked to the resources of that tile. You can use your resources to build settlement, cities and roads.</p>
<div align="center">
<div class="vembedr">
<iframe class="vimeo-embed" src="https://player.vimeo.com/video/260576657" width="500" height="281" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
</div>
</div>
</div>
<div id="getting-the-tiles" class="section level2">
<h2>Getting the tiles</h2>
<p>As an R user and a massive Settler of Catan fan (I used to play in the morning before going to work) I had been thinking about how to combine the two. I decided that I wanted to create a random board generator. However, just getting a static version of the catan board took me a while so I decided to split this into two blog posts. In the future I will put this into a shiny app so that the board can be generated randomly,</p>
<p>I know that the board is created randomly when you play Catan the regular way but I just think that adding R to it just makes it more fun.</p>
<p>I tried a few different ways of creating the board. My first attempt was to create the edge points and use <code>geom_polygon</code> from <code>ggplot2</code> to plot them. It turned out that figuring out where those points should be was trickier than I thought and I gave up. After that I tried plotting hexagons using <code>spsample</code> and I played with the <code>hexbin</code> package but I couldn’t get it to work (most likely because I didn’t do enough reading, not because it can’t be done).</p>
<p>I finally got it to work after reading <a href="http://www.masalmon.eu/2018/02/22/hexcombine/">Maëlle Salmon’s</a> blog post about plotting hexagon stickers using <code>magick</code>.</p>
<div id="first-stickerhexagon" class="section level3">
<h3>First sticker/hexagon</h3>
<p>I downloaded the hexagon stickers from the <code>hexbin</code> github repository and used the one with the fewest colours as a base. This happened to be a sticker called rangle.</p>
<p>The rangle sticker only has two colours so it is quite easy to make it only one colour using <code>image_fill</code>.</p>
<pre class="r"><code>setwd(&quot;/Users/emmavestesson/Documents/GitHub/bdown/&quot;)
hex_base &lt;- magick::image_read(here::here(&quot;rangle.png&quot;)) %&gt;% 
image_fill(&quot;white&quot;, point = &quot;+100+100&quot;, fuzz = 20) %&gt;% 
image_fill(&quot;white&quot;, point = &quot;+100+200&quot;, fuzz = 20)  
image_write(hex_base, here(&quot;catan hexes/hex_base.png&quot;))</code></pre>
<p>I now have my template hexagon. I downloaded some icons to illustrate the different resources. The icons were quite large so I started by trimming the image and the rescaling it. Once the icon is small enough I combine the tile and the icon. The code is the same for all the tile so I have only included the code for the wheat tile.</p>
<pre class="r"><code>setwd(&quot;/Users/emmavestesson/Documents/GitHub/bdown/&quot;)
# wheat
wheat_tile &lt;- hex_base %&gt;% 
  image_fill(&quot;orange&quot;, point = &quot;+100+100&quot;, fuzz = 20) 

wheat_img &lt;- image_read(&quot;~/Documents/R folder/Icons_catan/wheat.png&quot;) 
wheat_img &lt;- image_trim(wheat_img)
wheat_img &lt;- image_crop(wheat_img, geometry_area(1088, 1100, 0,0), repage = FALSE) %&gt;% 
  image_scale(100)

wheat &lt;- image_composite(wheat_tile, wheat_img, offset = &quot;+40+50&quot;) %&gt;% 
  magick::image_write(here(&quot;catan hexes/wheat.png&quot;))</code></pre>
<p>Not all resources appear the same number of times so I create a vector with links to image and repeat some of them four times and some three times. I then go on to shuffling the tiles to add the random component and then I read the images.</p>
<pre class="r"><code>setwd(&quot;/Users/emmavestesson/Documents/GitHub/bdown/&quot;)
tiles &lt;- c(rep(&quot;catan hexes/wood.png&quot;,4), rep(&quot;catan hexes/sheep.png&quot;,4), rep(&quot;catan hexes/wheat.png&quot;,4), rep(&quot;catan hexes/clay.png&quot; ,3), rep(&quot;catan hexes/rock.png&quot;,3), &quot;catan hexes/desert.png&quot; )
tiles &lt;- sample(tiles) # change the order at random
read_append &lt;- . %&gt;%
  magick::image_read() %&gt;%
  magick::image_append()

tiles_image &lt;- map(tiles, read_append)

number_tiles &lt;- c(&quot;5&quot;, &quot;2&quot;, &quot;6&quot;, &quot;3&quot;, &quot;8&quot;, &quot;10&quot;, &quot;9&quot;,&quot;12&quot;,&quot;11&quot;,&quot;4&quot;, &quot;8&quot;,&quot;10&quot;,&quot;9&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;3&quot;, &quot;11&quot; )</code></pre>
<p>The vector <code>number_tiles</code> holds the numbers that should go on the tiles. In real life the tiles are shuffled and placed on the table in a certain order, starting from the top and moving around in a circle until you get to the middle. After that you place one number on each tile skipping the desert. This skipping the desert tile created a bit of a problem. The desert tile should not get a tile so I need to find out where the desert tile is and then add a blank space at that point in the <code>number_tiles</code> vector before adding the number to tiles using <code>image_annotate</code>..</p>
<pre class="r"><code>desert_loc &lt;- grep(&quot;catan hexes/desert.png&quot;, tiles, ignore.case = FALSE, perl = FALSE, value = FALSE,
     fixed = FALSE, useBytes = FALSE, invert = FALSE)

number_tiles &lt;- append(number_tiles, &quot; &quot;, after = desert_loc-1)

tiles_with_prob &lt;- map2(tiles_image, number_tiles, ~image_annotate(.x,paste(.y), gravity = &quot;south&quot;, location = &quot;+0+20&quot;,
               degrees = 0, size = 19)) </code></pre>
<p>Time to combine all the tiles! This code is very long and repetitive because I need to put down the tiles in a certain order. In my first attempt using hex stickers I created five rows of hexagons and then combined them but then the numbers were wrong as you need to skip a number when the desert tile is plotted.</p>
<pre class="r"><code>info &lt;- tiles_with_prob[[1]] %&gt;%
  magick::image_info()
height &lt;- info$height
width &lt;- info$width

board &lt;- magick::image_blank(width = width * 6,
                                 height = width * 5 ,
                                 col = &quot;dodgerblue1&quot;)
info_board &lt;- image_info(board)
y_adj &lt;- height/5
x_adj &lt;- -width/2

board0 &lt;- image_composite(board,tiles_with_prob[[1]], offset=paste0(&quot;+&quot;, 2*width + x_adj, &quot;+&quot;, 0 + y_adj) )
board1 &lt;- image_composite(board0,tiles_with_prob[[2]], offset=paste0(&quot;+&quot;, 3*width + x_adj,  &quot;+&quot;, 0 + y_adj)) 
board2 &lt;- image_composite(board1,tiles_with_prob[[3]], offset=paste0(&quot;+&quot;, 4*width + x_adj,  &quot;+&quot;, 0 + y_adj)) 
board3 &lt;- image_composite(board2,tiles_with_prob[[4]], offset=paste0(&quot;+&quot;, 4.5*width + x_adj, &quot;+&quot;, height*0.75 + y_adj)) 
board4 &lt;- image_composite(board3,tiles_with_prob[[5]], offset=paste0(&quot;+&quot;, 5*width + x_adj, &quot;+&quot;, 2*height*0.75 + y_adj)) 
board5 &lt;- image_composite(board4,tiles_with_prob[[6]], offset=paste0(&quot;+&quot;, 4.5*width + x_adj, &quot;+&quot;, 3*height*0.75 + y_adj)) 
board6 &lt;- image_composite(board5,tiles_with_prob[[7]], offset=paste0(&quot;+&quot;, 4*width + x_adj, &quot;+&quot;, 4*height*0.75 + y_adj)) 
board7 &lt;- image_composite(board6,tiles_with_prob[[8]], offset=paste0(&quot;+&quot;, 3*width + x_adj, &quot;+&quot;, 4*height*0.75 + y_adj)) 
board8 &lt;- image_composite(board7,tiles_with_prob[[9]], offset=paste0(&quot;+&quot;, 2*width + x_adj, &quot;+&quot;, 4*height*0.75 + y_adj)) 
board9 &lt;- image_composite(board8,tiles_with_prob[[10]], offset=paste0(&quot;+&quot;, 1.5*width + x_adj, &quot;+&quot;, 3*height*0.75 + y_adj)) 
board10 &lt;- image_composite(board9,tiles_with_prob[[11]], offset=paste0(&quot;+&quot;, 1*width + x_adj, &quot;+&quot;, 2*height*0.75 + y_adj)) 
board11 &lt;- image_composite(board10,tiles_with_prob[[12]], offset=paste0(&quot;+&quot;, 1.5*width + x_adj, &quot;+&quot;, 1*height*0.75 + y_adj)) 
board12 &lt;- image_composite(board11,tiles_with_prob[[13]], offset=paste0(&quot;+&quot;, 2.5*width + x_adj, &quot;+&quot;, 1*height*0.75 + y_adj)) 
board13 &lt;- image_composite(board12,tiles_with_prob[[14]], offset=paste0(&quot;+&quot;, 3.5*width + x_adj, &quot;+&quot;, 1*height*0.75 + y_adj)) 
board14 &lt;- image_composite(board13,tiles_with_prob[[15]], offset=paste0(&quot;+&quot;, 4*width + x_adj, &quot;+&quot;, 2*height*0.75 + y_adj)) 
board15 &lt;- image_composite(board14,tiles_with_prob[[15]], offset=paste0(&quot;+&quot;, 3.5*width + x_adj, &quot;+&quot;, 3*height*0.75 + y_adj)) 
board16 &lt;- image_composite(board15,tiles_with_prob[[17]], offset=paste0(&quot;+&quot;, 2.5*width + x_adj, &quot;+&quot;, 3*height*0.75 + y_adj))
board17 &lt;- image_composite(board16,tiles_with_prob[[18]], offset=paste0(&quot;+&quot;, 2*width + x_adj, &quot;+&quot;, 2*height*0.75 + y_adj))
board18 &lt;- image_composite(board17,tiles_with_prob[[19]], offset=paste0(&quot;+&quot;, 3*width + x_adj,  &quot;+&quot;, 2*height*0.75 + y_adj))

board_gif&lt;- image_animate(c(board0, board1, board2, board3, board4, board5, board6, board7, board8, 
                board9, board10,board11, board12, board13, board14, board15, board16, board17, board18), fps=1)


image_write(board18, &quot;~/Documents/GitHub/bdown/public/2018/03/settlers-of-catan/catan_board.png&quot;)

image_write(board_gif, &quot;~/Documents/GitHub/bdown/public/board_gif.gif&quot;)</code></pre>
<p>Here is a gif showing the order that the tiles are plotted. I uploaded the gif to my blog to include because I couldn’t figure out how to include it from disk without installing additional things.</p>
<p><img src="https://emmavestesson.netlify.com/board_gif.gif" /> Static image!</p>
<p><img src="catan_board.png" /><!-- --> ser ## Notes</p>
<p>I used the <code>vembedr</code> package to include the short video of my friend.</p>
<div>
Icons made by <a href="http://www.freepik.com" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
</div>
</div>
</div>
<div id="packages-i-used" class="section level2">
<h2>Packages I used</h2>
<pre class="r"><code>library(&quot;magrittr&quot;)
library(&quot;purrr&quot;)
library(&quot;fs&quot;)
library(&quot;magick&quot;)
library(&quot;here&quot;)
library(&quot;htmltools&quot;)
library(&quot;vembedr&quot;)</code></pre>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small"></span><br/>
                    
  <a class="tag tag--primary tag--small" href="/tags/magick/">magick</a>

  <a class="tag tag--primary tag--small" href="/tags/catan/">catan</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/05/my-first-tidy-tuesday/" data-tooltip="My first tidy Tuesday">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml"></span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/03/mexico/" data-tooltip="My trip to Mexico in emojis">
              
                  <span class="hide-xs hide-sm text-small icon-mr"></span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2018/03/settlers-of-catan/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2018/03/settlers-of-catan/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2018/03/settlers-of-catan/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2019 Emma Vestesson. 
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/05/my-first-tidy-tuesday/" data-tooltip="My first tidy Tuesday">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml"></span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/03/mexico/" data-tooltip="My trip to Mexico in emojis">
              
                  <span class="hide-xs hide-sm text-small icon-mr"></span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2018/03/settlers-of-catan/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2018/03/settlers-of-catan/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2018/03/settlers-of-catan/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%2F2018%2F03%2Fsettlers-of-catan%2F">
          <i class="fa fa-facebook-official"></i><span>%!(EXTRA string=Facebook)</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%2F2018%2F03%2Fsettlers-of-catan%2F">
          <i class="fa fa-twitter"></i><span>%!(EXTRA string=Twitter)</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=%2F2018%2F03%2Fsettlers-of-catan%2F">
          <i class="fa fa-google-plus"></i><span>%!(EXTRA string=Google&#43;)</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
    <h4 id="about-card-name">Emma Vestesson</h4>
    
      <div id="about-card-bio">I first started learning R in the autumn of 2012 but stopped after a couple of months as I didn&rsquo;t use it. In January 2017 I rediscovered R again and this time I am sticking with it. After discovering blogdown and realising how many different short snippets of code I have hidden away on my computer I decided to share them on this blog instead.</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Data analyst
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        London
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center"></div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2019/01/frequently-used-code/">
                <h3 class="media-heading">Frequently Used Code</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Motivation There are some things that I always forget how to do in R. I have decided to add some of those code snippets to this blog so I that I can look them up when I need them.
Droping variables using a vector of names I often have a pre-specified vector of variables names that I use frequently and sometimes I want to drop those variables. The trick is to use one_of around the vector with variable names.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/09/settlers-of-catan-the-random-generator/">
                <h3 class="media-heading">Settlers of Catan - the random generator</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Background Back in March I wrote a blog post about my favourite board game Settlers of Catan. The code generates a random catan board but there is no interactivity for when you want to create a different random board. You can read it in its entirety here and somewhere in that post I promised to actually create an app so you can create your own board. I tried when I wrote the original blog post but I struggled with Shiny.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/07/my-first-hackathon-part-2/">
                <h3 class="media-heading">My first hackathon (part 2)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Gender pay gap hackathon (part 2) This is part 2 of my blog about the gender pay gap hack that I went to. You can read part 1 here.
 Reflections It has taken me a long time to write the second part of my experience of the hackathon. I think this is partly because I was unsure how/whether to show the dashboard. This was my first attempt at a shiny dashboard and I did not focus on picking the best metrics for the graphs so I don’t feel like I am showing anything useful and I don’t like the thought of sharing graphs that I am not sure are displaying the data in an appropriate way.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/06/my-first-hackathon/">
                <h3 class="media-heading">My first hackathon (part 1)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jun 6, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Gender pay gap hackathon Last weekend I went to my first hackathon. It was organised by the AI club for gender minorities, codebar and ellpha. We used data on the gender pay gap available here. I had a great time so I wanted to share my experience. This is the first part of my first hackathon.
 The deep dive team There were different tables with different themes and I picked deep dive.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/05/my-first-tidy-tuesday/">
                <h3 class="media-heading">My first tidy Tuesday</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Tidy Tuesday I have seen some cool graphs on twitter created for Tidy Tuesday. I wanted to join in on the fun so I downloaded the data from week 3 and started playinh. The data are from our world in data and I downloaded the data file from github.
mortality &lt;- readxl::read_excel(here::here(&quot;global_mortality.xlsx&quot;)) glimpse(mortality) ## Observations: 6,156 ## Variables: 35 ## $ country &lt;chr&gt; &quot;Afghanistan&quot;, &quot;Afg... ## $ country_code &lt;chr&gt; &quot;AFG&quot;, &quot;AFG&quot;, &quot;AFG&quot;.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/03/settlers-of-catan/">
                <h3 class="media-heading">Settlers of Catan</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Settlers of catan In our living room there is an old chest hiding some real treasures. Every now and again we will get Settlers of Catan out. I never grow tired of playing it as the board changes every time. The game has 19 hexagon shaped tiles that are placed at random. Eighteen tiles are linked to different resources -wheat, rock, wood, sheep and clay- and the 19th is the desert where the much feared robber lives.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/03/mexico/">
                <h3 class="media-heading">My trip to Mexico in emojis</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">The code that never really worked This post is the result of hours and hours of me trying to write some code but never getting it quite right. I think that one of the worst things that you can do to yourself is to be scared to admit that you are struggling because you will end up never trying anything new. That is why I am publishing what I have got so far despite not being very happy with it.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/02/what-should-i-have-for-lunch/">
                <h3 class="media-heading">What should I have for lunch?</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Inspiration I was having lunch with some colleagues the other day when they told me about a restaurant spreadsheet that they used to use to randomly pick a place to get lunch from. I of course felt the need to see if I could create something similar in R.
I had also seen a really cool blog post using the osmdata package to look at the number of pubs close to metro stations in Paris.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/01/happy-birthday-to-me/">
                <h3 class="media-heading">Happy Birthday To Me!</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Happy Birthday To Me! Today is my birthday. To celebrate I decided to look at what was in the news on January 27 every year since I was born. Mainly I want to see if the news were positive or negative.
 Getting the data I start buy creating a list of dates. I feel like there is probably a more straightforward way of doing this but I am currently obsessed with map so this is how I did it.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/01/please-like-me/">
                <h3 class="media-heading">Please like me</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Sundays When I woke up this morning I wrote a long to do list. Instead of working through the list I somehow ended up spending most of my day playing in R.
 Scraping the web I have been keen to try web scraping in R for a while so I gave rvest a go. I was a bit too restless to actually read any tutorials so I just started trying different commands.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero=""
         data-message-one=""
         data-message-other="">
         12 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('/images/DSCF5410.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
  



    
  </body>
</html>

